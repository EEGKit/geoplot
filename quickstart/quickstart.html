

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quickstart &mdash; geoplot 0.3.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Working with Geospatial Data" href="../user_guide/Working_with_Geospatial_Data.html" />
    <link rel="prev" title="Installation" href="../installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> geoplot
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-geospatial-data">Getting geospatial data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-points-and-polygons">Plotting points and polygons</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-visual-parameters">Adding visual parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#making-the-plot-pretty">Making the plot pretty</a></li>
<li class="toctree-l2"><a class="reference internal" href="#some-other-plot-types">Some other plot types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next steps</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/Working_with_Geospatial_Data.html">Working with Geospatial Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/Working_with_Projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/Customizing_Plots.html">Customizing Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plot_references/plot_reference.html">Plot Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_reference.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">geoplot</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Quickstart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/quickstart/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">geoplot</span></code> is a geospatial data visualization library designed for data
scientists and geospatial analysts that just want to get things done. In
this tutorial we will learn the basics of <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> and see how it is
used.</p>
<p>You can run this tutorial code yourself interactively using
<a class="reference external" href="https://mybinder.org/v2/gh/ResidentMario/geoplot/master?filepath=notebooks/tutorials/Quickstart.ipynb">Binder</a>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configure matplotlib.</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1"># Unclutter the display.</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="p">;</span> <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;max_columns&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="getting-geospatial-data">
<h2>Getting geospatial data<a class="headerlink" href="#getting-geospatial-data" title="Permalink to this headline">¶</a></h2>
<p>The starting point for geospatial analysis is geospatial data. The
standard way of dealing with such data in Python using <code class="docutils literal notranslate"><span class="pre">geopandas</span></code>—a
geospatial data parsing library over the well-known <code class="docutils literal notranslate"><span class="pre">pandas</span></code> library.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">geopandas</span></code> represents data using a <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code>, which is just a
<code class="docutils literal notranslate"><span class="pre">pandas</span></code> <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with a special <code class="docutils literal notranslate"><span class="pre">geometry</span></code> column containing a
geometric object describing the physical nature of the record in
question: a <code class="docutils literal notranslate"><span class="pre">POINT</span></code> in space, a <code class="docutils literal notranslate"><span class="pre">POLYGON</span></code> in the shape of New York,
and so on.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot</span> <span class="k">as</span> <span class="nn">gplt</span>
<span class="n">usa_cities</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">gplt</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;usa_cities&#39;</span><span class="p">))</span>
<span class="n">usa_cities</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>POP_2010</th>
      <th>ELEV_IN_FT</th>
      <th>STATE</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>53</td>
      <td>40888.0</td>
      <td>1611.0</td>
      <td>ND</td>
      <td>POINT (-101.2962732 48.23250950000011)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>101</td>
      <td>52838.0</td>
      <td>830.0</td>
      <td>ND</td>
      <td>POINT (-97.03285469999997 47.92525680000006)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>153</td>
      <td>15427.0</td>
      <td>1407.0</td>
      <td>ND</td>
      <td>POINT (-98.70843569999994 46.91054380000003)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>177</td>
      <td>105549.0</td>
      <td>902.0</td>
      <td>ND</td>
      <td>POINT (-96.78980339999998 46.87718630000012)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>192</td>
      <td>17787.0</td>
      <td>2411.0</td>
      <td>ND</td>
      <td>POINT (-102.7896241999999 46.87917560000005)</td>
    </tr>
  </tbody>
</table>
</div><div style="margin-top:2em"><p>All functions in <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> take a <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code> as input.</p>
<blockquote>
<div><p>Note that <code class="docutils literal notranslate"><span class="pre">shapely</span></code>, the library <code class="docutils literal notranslate"><span class="pre">geopandas</span></code> uses to store its
geometries, uses “modern” longitude-latitude <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code> coordinate
order. This differs from the “historical” latitude-longitude
<code class="docutils literal notranslate"><span class="pre">(y,</span> <span class="pre">x)</span></code> coordinate order. Datasets “in the wild” may be in either
format, so after reading in some data make sure to verify that your
coordinates are in the right order!</p>
</div></blockquote>
<p>To learn more about manipulating geospatial data, check out the section
of the tutorial on <a class="reference external" href="https://residentmario.github.io/geoplot/user_guide/Working_with_Geospatial_Data.html">Working with Geospatial
Data</a>.</p>
</div></div>
<div class="section" id="plotting-points-and-polygons">
<h2>Plotting points and polygons<a class="headerlink" href="#plotting-points-and-polygons" title="Permalink to this headline">¶</a></h2>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot</span> <span class="k">as</span> <span class="nn">gplt</span>
</pre></div>
</div>
<p>If your data consists of a bunch of points, you can display those points
using <code class="docutils literal notranslate"><span class="pre">pointplot</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">continental_usa_cities</span> <span class="o">=</span> <span class="n">usa_cities</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;STATE not in [&quot;HI&quot;, &quot;AK&quot;, &quot;PR&quot;]&#39;</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">continental_usa_cities</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x127f3eba8</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_10_1.png" src="../_images/Quickstart_10_1.png" />
<p>If you have polygonal data instead, you can plot that using a
<code class="docutils literal notranslate"><span class="pre">geoplot</span></code> <code class="docutils literal notranslate"><span class="pre">polyplot</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">contiguous_usa</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">gplt</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;contiguous_usa&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">contiguous_usa</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x127f7aa20</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_13_1.png" src="../_images/Quickstart_13_1.png" />
<p>We can combine the these two plots using overplotting. <strong>Overplotting</strong>
is the act of stacking several different plots on top of one another,
useful for providing additional context for our plots:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">contiguous_usa</span><span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">continental_usa_cities</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x128822c50</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_15_1.png" src="../_images/Quickstart_15_1.png" />
<p>You might notice that this map of the United States looks very strange.
The Earth, being a sphere, is impossible to potray in two dimensionals.
Hence, whenever we take data off the sphere and place it onto a map, we
are using some kind of <strong>projection</strong>, or method of flattening the
sphere. Plotting data without a projection, or “carte blanche”, creates
distortion in your map. We can “fix” the distortion by picking a better
projection.</p>
<p>The Albers equal area projection is one most common in the United
States. Here’s how you use it with <code class="docutils literal notranslate"><span class="pre">geoplot</span></code>:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geoplot.crs</span> <span class="k">as</span> <span class="nn">gcrs</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">contiguous_usa</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">continental_usa_cities</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cartopy</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">geoaxes</span><span class="o">.</span><span class="n">GeoAxesSubplot</span> <span class="n">at</span> <span class="mh">0x12889e080</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_17_1.png" src="../_images/Quickstart_17_1.png" />
<p>This looks much better than our first plot! In fact, this is the version
of the United States that you’ll probably most often see in maps.</p>
<p>To learn more about projections check out the section of the tutorial on
<a class="reference external" href="https://residentmario.github.io/geoplot/user_guide/Working_with_Projections.html">Working with
Projections</a>.</p>
<p>What if you want to create a <strong>webmap</strong> instead? This is also easy to
do.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">webmap</span><span class="p">(</span><span class="n">contiguous_usa</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">WebMercator</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">continental_usa_cities</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cartopy</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">geoaxes</span><span class="o">.</span><span class="n">GeoAxesSubplot</span> <span class="n">at</span> <span class="mh">0x128928588</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_19_1.png" src="../_images/Quickstart_19_1.png" />
<p><code class="docutils literal notranslate"><span class="pre">geoplot</span></code> can even be used with <code class="docutils literal notranslate"><span class="pre">mplleaflet</span></code> to create animated
scrolly-panny webmaps. <a class="reference external" href="https://residentmario.github.io/geoplot/gallery/plot_boston_airbnb_kde.html">Click
here</a>
for a demo.</p>
</div>
<div class="section" id="adding-visual-parameters">
<h2>Adding visual parameters<a class="headerlink" href="#adding-visual-parameters" title="Permalink to this headline">¶</a></h2>
<p>This map tells us that there are more cities on either coast than there
are in and around the Rocky Mountains, but it doesn’t tell us anything
about the cities themselves. We can make an informative plot by adding
more <strong>visual parameters</strong> to our plot.</p>
<p>We’ll start with <code class="docutils literal notranslate"><span class="pre">hue</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">webmap</span><span class="p">(</span><span class="n">contiguous_usa</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">WebMercator</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">continental_usa_cities</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">/Users/alex/miniconda3/envs/geoplot-dev/lib/python3.6/site-packages/scipy/stats/stats.py:1633: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use <cite>arr[tuple(seq)]</cite> instead of <cite>arr[seq]</cite>. In the future this will be interpreted as an array index, <cite>arr[np.array(seq)]</cite>, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval</pre>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cartopy</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">geoaxes</span><span class="o">.</span><span class="n">GeoAxesSubplot</span> <span class="n">at</span> <span class="mh">0x1289d99b0</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_21_2.png" src="../_images/Quickstart_21_2.png" />
<p>This map tells a clear story: that cities in the central United States
have a higher <code class="docutils literal notranslate"><span class="pre">ELEV_IN_FT</span></code> then most other cities in the United
States, especially those on the coast. Toggling the legend on helps make
this result more interpretable.</p>
<p>Which colors get assigned to which category are controlled by a
<a class="reference external" href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html">colormap</a>
(or <code class="docutils literal notranslate"><span class="pre">cmap</span></code>). There are over fifty visually distinct colormaps in
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>; it’s also possible to create your own on the fly. This
plot uses the default <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <code class="docutils literal notranslate"><span class="pre">cmap</span></code>, <code class="docutils literal notranslate"><span class="pre">viridis</span></code>, but we can
pick a different one that perhaps better suites our data if we so
choose:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">webmap</span><span class="p">(</span><span class="n">contiguous_usa</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">WebMercator</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">continental_usa_cities</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">/Users/alex/miniconda3/envs/geoplot-dev/lib/python3.6/site-packages/scipy/stats/stats.py:1633: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use <cite>arr[tuple(seq)]</cite> instead of <cite>arr[seq]</cite>. In the future this will be interpreted as an array index, <cite>arr[np.array(seq)]</cite>, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval</pre>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cartopy</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">geoaxes</span><span class="o">.</span><span class="n">GeoAxesSubplot</span> <span class="n">at</span> <span class="mh">0x12d44d470</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_23_2.png" src="../_images/Quickstart_23_2.png" />
<p>Next, let’s try adding still another visual variable to our plot:
<code class="docutils literal notranslate"><span class="pre">scale</span></code>. We’ll also specify two other new parameters: <code class="docutils literal notranslate"><span class="pre">limits</span></code>,
which controls the maximum and minimum sizes of the scaled-out points;
and <code class="docutils literal notranslate"><span class="pre">legend_var</span></code>, which specifies which visual variable (<code class="docutils literal notranslate"><span class="pre">scale</span></code> or
<code class="docutils literal notranslate"><span class="pre">hue</span></code>) will appear in the legend.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">webmap</span><span class="p">(</span><span class="n">contiguous_usa</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">WebMercator</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span>
    <span class="n">continental_usa_cities</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">legend_var</span><span class="o">=</span><span class="s1">&#39;scale&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">/Users/alex/miniconda3/envs/geoplot-dev/lib/python3.6/site-packages/scipy/stats/stats.py:1633: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use <cite>arr[tuple(seq)]</cite> instead of <cite>arr[seq]</cite>. In the future this will be interpreted as an array index, <cite>arr[np.array(seq)]</cite>, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval</pre>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cartopy</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">geoaxes</span><span class="o">.</span><span class="n">GeoAxesSubplot</span> <span class="n">at</span> <span class="mh">0x12cd5e208</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_25_2.png" src="../_images/Quickstart_25_2.png" />
<p>This new plot shows more clearly than the previous one the difference in
height between cities in the Rocky Mountain states like Colorado, Utah,
and Wyoming, and those elsewhere in the United States.</p>
</div>
<div class="section" id="making-the-plot-pretty">
<h2>Making the plot pretty<a class="headerlink" href="#making-the-plot-pretty" title="Permalink to this headline">¶</a></h2>
<p>Ugly maps distract the reader from the story you want to tell. Once
you’ve got the basic outline ready, it’s handy to be able to tweak your
plot a bit to “prettify” it.</p>
<p><code class="docutils literal notranslate"><span class="pre">geoplot</span></code> comes equipped with a variety of visual parameters (many of
them from <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>) that can be used to adjust the look and feel
of the plot.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span>
    <span class="n">contiguous_usa</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;lightgray&#39;</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span>
    <span class="n">continental_usa_cities</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;ELEV_IN_FT&#39;</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">legend_var</span><span class="o">=</span><span class="s1">&#39;scale&#39;</span><span class="p">,</span>
    <span class="n">legend_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;frameon&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="n">legend_values</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">110</span><span class="p">,</span> <span class="mi">1750</span><span class="p">,</span> <span class="mi">3600</span><span class="p">,</span> <span class="mi">5500</span><span class="p">,</span> <span class="mi">7400</span><span class="p">],</span>
    <span class="n">legend_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-110 feet&#39;</span><span class="p">,</span> <span class="s1">&#39;1750 feet&#39;</span><span class="p">,</span> <span class="s1">&#39;3600 feet&#39;</span><span class="p">,</span> <span class="s1">&#39;5500 feet&#39;</span><span class="p">,</span> <span class="s1">&#39;7400 feet&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Cities in the Continental United States by Elevation&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">/Users/alex/miniconda3/envs/geoplot-dev/lib/python3.6/site-packages/scipy/stats/stats.py:1633: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use <cite>arr[tuple(seq)]</cite> instead of <cite>arr[seq]</cite>. In the future this will be interpreted as an array index, <cite>arr[np.array(seq)]</cite>, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval</pre>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;Cities in the Continental United States by Elevation&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_28_2.png" src="../_images/Quickstart_28_2.png" />
</div>
<div class="section" id="some-other-plot-types">
<h2>Some other plot types<a class="headerlink" href="#some-other-plot-types" title="Permalink to this headline">¶</a></h2>
<p>So far we’ve worked with <code class="docutils literal notranslate"><span class="pre">pointplot</span></code> and <code class="docutils literal notranslate"><span class="pre">polyplot</span></code>. <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> has
a variety of other plot types available as well. We’ll take a brief look
at just two of them; the full list is covered in detail in the <a class="reference external" href="https://residentmario.github.io/geoplot/plot_references/plot_reference.html">Plot
Reference</a>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span>
    <span class="n">contiguous_usa</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;population&#39;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greens&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;fisher_jenks&#39;</span><span class="p">,</span>
    <span class="n">legend_labels</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;&lt;3 million&#39;</span><span class="p">,</span> <span class="s1">&#39;3-6.7 million&#39;</span><span class="p">,</span> <span class="s1">&#39;6.7-12.8 million&#39;</span><span class="p">,</span>
        <span class="s1">&#39;12.8-25 million&#39;</span><span class="p">,</span> <span class="s1">&#39;25-37 million&#39;</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cartopy</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">geoaxes</span><span class="o">.</span><span class="n">GeoAxesSubplot</span> <span class="n">at</span> <span class="mh">0x12bae7320</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_31_1.png" src="../_images/Quickstart_31_1.png" />
<p>This <code class="docutils literal notranslate"><span class="pre">choropleth</span></code> of population by state shows how much larger certain
coastal states are than their peers in the central United States. A
<code class="docutils literal notranslate"><span class="pre">choropleth</span></code> is the standard-bearer in cartography for showing
information about areas because it’s easy to make and interpret.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">boroughs</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">gplt</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;nyc_boroughs&#39;</span><span class="p">))</span>
<span class="n">collisions</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">gplt</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;nyc_collision_factors&#39;</span><span class="p">))</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="n">shade</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">())</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">polyplot</span><span class="p">(</span><span class="n">boroughs</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">/Users/alex/miniconda3/envs/geoplot-dev/lib/python3.6/site-packages/scipy/stats/stats.py:1633: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use <cite>arr[tuple(seq)]</cite> instead of <cite>arr[seq]</cite>. In the future this will be interpreted as an array index, <cite>arr[np.array(seq)]</cite>, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval</pre>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cartopy</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">geoaxes</span><span class="o">.</span><span class="n">GeoAxesSubplot</span> <span class="n">at</span> <span class="mh">0x12f1ae828</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/Quickstart_33_2.png" src="../_images/Quickstart_33_2.png" />
<p>A <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code> smoothes point data out into a heatmap. This makes it easy
to spot regional trends in your input data. The <code class="docutils literal notranslate"><span class="pre">clip</span></code> parameter can
be used to clip the resulting plot to the surrounding geometry—in this
case, the outline of New York City.</p>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>You should now know enough <code class="docutils literal notranslate"><span class="pre">geoplot</span></code> to try it out in your own
projects!</p>
<p>To install <code class="docutils literal notranslate"><span class="pre">geoplot</span></code>, run <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">geoplot</span></code>. To see more
examples using <code class="docutils literal notranslate"><span class="pre">geoplot</span></code>, check out the
<a class="reference external" href="https://residentmario.github.io/geoplot/gallery/index.html">Gallery</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../user_guide/Working_with_Geospatial_Data.html" class="btn btn-neutral float-right" title="Working with Geospatial Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, Aleksey Bilogur

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>